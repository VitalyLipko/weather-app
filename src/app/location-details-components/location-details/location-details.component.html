<ng-container *ngIf="isDataLoaded$ | async; else loadedTemplate">
  <div class="row mb-md-5">
    <div class="col d-flex flex-row justify-content-center pt-2" *ngIf="locationManagement.enablePagination()">
      <div class="location-pagination rounded-circle mr-1"
        *ngFor="let location of locationManagement.locations; let i=index" [class.selected]="i===selectedIndex()">
      </div>
    </div>
    <div class="col-12 text-center">
      <div id="loc-name">
        <button type="button" class="btn" *ngIf="locationManagement.enablePagination()" aria-label="Previous location"
          (click)="previous()">
          <i class="fas fa-chevron-left"></i>
        </button>
        {{weatherData?.name}}
        <button type="button" class="btn" *ngIf="locationManagement.enablePagination()" aria-label="Next location"
          (click)="next()">
          <i class="fas fa-chevron-right"></i>
        </button>
      </div>
      <span class="d-block">Прогноз составлен:
        {{weatherData?.dt*1000 | date:'d MMMM, HH:mm':timezoneOffset:'ru'}}</span>
    </div>
    <weather [weatherData]="weatherData" [timezoneOffset]="timezoneOffset" [forecastDay]="forecastDay"
      class="col-12 d-flex flex-column flex-md-row p-0"></weather>
  </div>
  <forecast class="row" [forecastDays]="forecastDays" [forecastNights]="forecastNights"
    [timezoneOffset]="timezoneOffset"></forecast>
  <button type="button" id="bookmark" class="btn rounded-circle mr-4" aria-label="Add or delete bookmark"
    (click)="changeState()">
    <div [@addDeleteAnimation]="locationManagement.isBookmark ? 'delete' : 'add'" id="btn-label">+</div>
  </button>
</ng-container>
<ng-template #loadedTemplate>
  <div class="d-flex justify-content-center pt-5">
    <div class="spinner-border text-light" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>
</ng-template>
<div [@showHideAnimation]="isShown ? 'show' : 'hide'" id="notifyMsg"
  class="d-flex justify-content-center align-items-center fixed-bottom py-2 px-1">
  <span class="text-center mr-3">
    {{weatherData?.name}}
    <ng-container *ngIf="locationManagement.isBookmark; else deleteTemplate">
      добавлен в раздел
    </ng-container>
    <ng-template #deleteTemplate>
      удален из раздела
    </ng-template>
    "Мои места"
  </span>
  <button type="button" class="close" aria-label="Close" (click)="closeNotify()">
    <span aria-hidden="true">&times;</span>
  </button>
</div>