function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{Xrf6:function(t,e,i){"use strict";i.r(e);var n,a,o,s=i("R0Ic"),r=i("fXoL"),c=[Object(s.h)({height:0,visibility:"hidden"}),Object(s.e)("400ms cubic-bezier(0.4,0.0,0.2,1)",Object(s.h)({height:"*",visibility:"visible"}))],l=[Object(s.h)({height:"*",visibility:"visible"}),Object(s.e)("400ms cubic-bezier(0.4,0.0,0.2,1)",Object(s.h)({height:0,visibility:"hidden"}))],f=((a=function(){function t(e,i,n){_classCallCheck(this,t),this._el=e,this._renderer=i,this.collapsed=new r.n,this.collapses=new r.n,this.expanded=new r.n,this.expands=new r.n,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1,this.isAnimated=!1,this._display="block",this._stylesLoaded=!1,this._COLLAPSE_ACTION_NAME="collapse",this._EXPAND_ACTION_NAME="expand",this._factoryCollapseAnimation=n.build(l),this._factoryExpandAnimation=n.build(c)}return _createClass(t,[{key:"ngAfterViewChecked",value:function(){this._stylesLoaded=!0,this._player&&this._isAnimationDone&&(this._player.reset(),this._renderer.setStyle(this._el.nativeElement,"height","*"))}},{key:"toggle",value:function(){this.isExpanded?this.hide():this.show()}},{key:"hide",value:function(){var t=this;this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapsing=!1,this.collapses.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._COLLAPSE_ACTION_NAME)((function(){t._isAnimationDone=!0,t.collapsed.emit(t),t._renderer.setStyle(t._el.nativeElement,"display","none")}))}},{key:"show",value:function(){var t=this;this._renderer.setStyle(this._el.nativeElement,"display",this._display),this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapsing=!1,this.expands.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._EXPAND_ACTION_NAME)((function(){t._isAnimationDone=!0,t.expanded.emit(t)}))}},{key:"animationRun",value:function(t,e){var i=this;if(!t||!this._stylesLoaded)return function(t){return t()};this._renderer.setStyle(this._el.nativeElement,"overflow","hidden"),this._renderer.addClass(this._el.nativeElement,"collapse");var n=e===this._EXPAND_ACTION_NAME?this._factoryExpandAnimation:this._factoryCollapseAnimation;return this._player&&this._player.destroy(),this._player=n.create(this._el.nativeElement),this._player.play(),function(t){return i._player.onDone(t)}}},{key:"display",set:function(t){this.isAnimated?(this._display=t,"none"!==t?this.show():this.hide()):this._renderer.setStyle(this._el.nativeElement,"display",t)}},{key:"collapse",set:function(t){this._player&&!this._isAnimationDone||(this.isExpanded=t,this.toggle())},get:function(){return this.isExpanded}}]),t}()).\u0275fac=function(t){return new(t||a)(r.Kb(r.l),r.Kb(r.D),r.Kb(s.b))},a.\u0275dir=r.Fb({type:a,selectors:[["","collapse",""]],hostVars:10,hostBindings:function(t,e){2&t&&(r.Ab("aria-expanded",e.isExpanded)("aria-hidden",e.isCollapsed),r.Cb("collapse",e.isCollapse)("in",e.isExpanded)("show",e.isExpanded)("collapsing",e.isCollapsing))},inputs:{isAnimated:"isAnimated",display:"display",collapse:"collapse"},outputs:{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"},exportAs:["bs-collapse"]}),a),d=((n=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(){return{ngModule:t,providers:[]}}}]),t}()).\u0275mod=r.Ib({type:n}),n.\u0275inj=r.Hb({factory:function(t){return new(t||n)}}),n),b=i("PCNd"),u=i("tyNb"),h=i("ofXK"),p=i("quSY"),m=i("eIep"),g=i("8+oX"),v=i("dJ3e"),w=i("Xn/w"),y=((o=function(){function t(e,i,n){_classCallCheck(this,t),this.favoritesService=e,this.elementRef=i,this.renderer=n}return _createClass(t,[{key:"ngOnInit",value:function(){this.favoritesService.enablePagination()||this.renderer.removeChild(this.elementRef.nativeElement.parentNode,this.elementRef.nativeElement)}}]),t}()).\u0275fac=function(t){return new(t||o)(r.Kb(v.a),r.Kb(r.l),r.Kb(r.D))},o.\u0275dir=r.Fb({type:o,selectors:[["","waLocationsPaginator",""]]}),o),O=i("Mfq2"),C=i("XNiG"),D=i("xgIS"),P=i("l7GE"),_=i("ZUHj"),k=function(){function t(e){_classCallCheck(this,t),this.notifier=e}return _createClass(t,[{key:"call",value:function(t,e){var i=new x(t),n=Object(_.a)(i,this.notifier);return n&&!i.seenValue?(i.add(n),e.subscribe(i)):i}}]),t}(),x=function(t){function e(t){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).seenValue=!1,i}return _inherits(e,t),_createClass(e,[{key:"notifyNext",value:function(t,e,i,n,a){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),e}(P.a),z=i("by69");function M(t,e){if(1&t&&(r.Pb(0,"div",23),r.Pb(1,"span"),r.tc(2),r.ac(3,"date"),r.Ob(),r.Lb(4,"img",24),r.Pb(5,"span"),r.tc(6),r.ac(7,"number"),r.Ob(),r.Ob()),2&t){var i=e.$implicit,n=r.Zb();r.zb(2),r.uc(r.dc(3,3,1e3*i.dt,"HH:mm",n.timezoneOffset,"ru")),r.zb(2),r.ic("src","assets/ico/weather-conditions/",i.weather[0].icon,".svg",r.pc),r.zb(2),r.vc("",r.cc(7,8,i.main.temp,"1.0-0"),"\xb0")}}function N(t,e){if(1&t&&(r.Nb(0),r.tc(1),r.ac(2,"weatherParams"),r.Mb()),2&t){var i=r.Zb();r.zb(1),r.vc(" , ",r.cc(2,1,i.weatherData.wind.deg,"wind")," ")}}var I,S=((I=function(){function t(e,i){_classCallCheck(this,t),this.zone=e,this.cdr=i,this.isCollapsed=!0,this.unsubscribe=new C.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.calc(),this.zone.runOutsideAngular((function(){return Object(D.a)(window,"resize").pipe((e=t.unsubscribe,function(t){return t.lift(new k(e))})).subscribe((function(){return t.calc()}));var e}))}},{key:"ngOnDestroy",value:function(){this.unsubscribe.next(null),this.unsubscribe.complete()}},{key:"calc",value:function(){document.documentElement.clientWidth>=752&&this.isCollapsed&&(this.isCollapsed=!1,this.cdr.detectChanges())}}]),t}()).\u0275fac=function(t){return new(t||I)(r.Kb(r.z),r.Kb(r.h))},I.\u0275cmp=r.Eb({type:I,selectors:[["wa-weather"]],inputs:{weatherData:"weatherData",timezoneOffset:"timezoneOffset",forecastDay:"forecastDay"},decls:40,vars:31,consts:[["id","main-block",1,"col-md-7","text-center"],["id","current-weather",1,"d-inline-flex","flex-row","mb-md-2"],["id","current-weather-temp"],["id","current-weather-description"],["alt","\u0418\u043a\u043e\u043d\u043a\u0430 \u043f\u043e\u0433\u043e\u0434\u044b","id","current-weather-conditions-ico",1,"d-block",3,"src"],["id","current-weather-condition",1,"text-truncate",3,"tooltip"],["id","forecast-day",1,"mb-3","mb-md-0"],["class","forecast-day-hours",4,"ngFor","ngForOf"],["id","additional-block",1,"col-md-5","d-flex","flex-column"],["type","button","aria-controls","wrapper-param",1,"btn","btn-custom","btn-block","d-md-none","mb-3","rounded-pill",3,"click"],[1,"fas","fa-chevron-down"],["id","wrapper-param",1,"d-md-block",3,"collapse","isAnimated"],["id","wind"],["src","assets/ico/parameters/wind.svg","alt","\u0418\u043a\u043e\u043d\u043a\u0430 \u0432\u0435\u0442\u0440\u0430",1,"size-ico"],[4,"ngIf"],["id","humidity"],["src","assets/ico/parameters/humidity.svg","alt","\u0418\u043a\u043e\u043d\u043a\u0430 \u0433\u0438\u0433\u0440\u043e\u043c\u0435\u0442\u0440\u0430",1,"size-ico","mr-2"],["id","pressure"],["src","assets/ico/parameters/pressure.svg","alt","\u0418\u043a\u043e\u043d\u043a\u0430 \u0431\u0430\u0440\u043e\u043c\u0435\u0442\u0440\u0430",1,"size-ico"],["id","sunrise"],["src","assets/ico/parameters/sunrise.svg","alt","\u0418\u043a\u043e\u043d\u043a\u0430 \u0432\u043e\u0441\u0445\u043e\u0434\u0430",1,"size-ico"],["id","sunset"],["src","assets/ico/parameters/sunset.svg","alt","\u0418\u043a\u043e\u043d\u043a\u0430 \u0437\u0430\u043a\u0430\u0442\u0430",1,"size-ico"],[1,"forecast-day-hours"],["alt","\u0418\u043a\u043e\u043d\u043a\u0430 \u043f\u043e\u0433\u043e\u0434\u044b",1,"d-block","forecast-day-hours-img",3,"src"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Pb(2,"span",2),r.tc(3),r.ac(4,"number"),r.Ob(),r.Pb(5,"div",3),r.Lb(6,"img",4),r.Pb(7,"span",5),r.tc(8),r.Ob(),r.Ob(),r.Ob(),r.Pb(9,"div",6),r.rc(10,M,8,11,"div",7),r.Ob(),r.Ob(),r.Pb(11,"div",8),r.Pb(12,"button",9),r.Xb("click",(function(){return e.isCollapsed=!e.isCollapsed})),r.Pb(13,"div"),r.Lb(14,"i",10),r.Ob(),r.Ob(),r.Pb(15,"div",11),r.Pb(16,"div",12),r.Lb(17,"img",13),r.Pb(18,"span"),r.tc(19),r.rc(20,N,3,4,"ng-container",14),r.Ob(),r.Ob(),r.Pb(21,"div",15),r.Lb(22,"img",16),r.Pb(23,"span"),r.tc(24),r.Ob(),r.Ob(),r.Pb(25,"div",17),r.Lb(26,"img",18),r.Pb(27,"span"),r.tc(28),r.ac(29,"weatherParams"),r.Ob(),r.Ob(),r.Pb(30,"div",19),r.Lb(31,"img",20),r.Pb(32,"span"),r.tc(33),r.ac(34,"date"),r.Ob(),r.Ob(),r.Pb(35,"div",21),r.Lb(36,"img",22),r.Pb(37,"span"),r.tc(38),r.ac(39,"date"),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.zb(3),r.vc("",r.cc(4,15,null==e.weatherData?null:e.weatherData.main.temp,"1.0-0"),"\xb0"),r.zb(3),r.ic("src","assets/ico/weather-conditions/",null==e.weatherData?null:e.weatherData.weather[0].icon,".svg",r.pc),r.zb(1),r.gc("tooltip",null==e.weatherData?null:e.weatherData.weather[0].description),r.zb(1),r.vc(" ",null==e.weatherData?null:e.weatherData.weather[0].description," "),r.zb(2),r.gc("ngForOf",e.forecastDay),r.zb(2),r.Ab("aria-expanded",!e.isCollapsed),r.zb(1),r.gc("@expandCollapseAnimation",e.isCollapsed?"collapse":"expand"),r.zb(2),r.gc("collapse",e.isCollapsed)("isAnimated",!0),r.zb(4),r.vc("",null==e.weatherData?null:e.weatherData.wind.speed," \u043c/\u0441 "),r.zb(1),r.gc("ngIf",null==e.weatherData?null:e.weatherData.wind.deg),r.zb(4),r.vc("",null==e.weatherData?null:e.weatherData.main.humidity,"%"),r.zb(4),r.vc("",r.cc(29,18,null==e.weatherData?null:e.weatherData.main.pressure,"pressure")," \u043c\u043c.\u0440\u0442.\u0441\u0442."),r.zb(5),r.uc(r.dc(34,21,1e3*(null==e.weatherData?null:e.weatherData.sys.sunrise),"HH:mm",e.timezoneOffset,"ru")),r.zb(5),r.uc(r.dc(39,26,1e3*(null==e.weatherData?null:e.weatherData.sys.sunset),"HH:mm",e.timezoneOffset,"ru")))},directives:[O.a,h.m,f,h.n],pipes:[h.f,z.a,h.e],styles:["#current-weather-temp[_ngcontent-%COMP%]{font-size:6.2em}#current-weather-conditions-ico[_ngcontent-%COMP%]{position:relative;top:1em}#current-weather-condition[_ngcontent-%COMP%]{display:block;position:relative;top:-.5em;max-width:346px;font-size:2em}@media (max-width:576px){#current-weather-condition[_ngcontent-%COMP%]{max-width:186px}}#forecast-day[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:auto;white-space:nowrap}#forecast-day[_ngcontent-%COMP%]   .forecast-day-hours[_ngcontent-%COMP%]{display:inline-block}#forecast-day[_ngcontent-%COMP%]   .forecast-day-hours-img[_ngcontent-%COMP%]{width:4em}#additional-block[_ngcontent-%COMP%]{font-size:1.5em}#additional-block[_ngcontent-%COMP%]   .size-ico[_ngcontent-%COMP%]{height:3em}#additional-block[_ngcontent-%COMP%]   #humidity[_ngcontent-%COMP%]{position:relative;left:.5em}#additional-block[_ngcontent-%COMP%]   #humidity[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{left:2.1em;height:2em}#additional-block[_ngcontent-%COMP%]   #sunrise[_ngcontent-%COMP%]{position:relative;top:-.5em}#additional-block[_ngcontent-%COMP%]   #sunset[_ngcontent-%COMP%]{position:relative;top:-1em}"],data:{animation:[g.b]},changeDetection:0}),I);function E(t,e){if(1&t&&(r.Pb(0,"div",3),r.Pb(1,"div",4),r.Pb(2,"span"),r.tc(3),r.ac(4,"date"),r.Ob(),r.Pb(5,"div"),r.Pb(6,"span"),r.tc(7),r.ac(8,"date"),r.Ob(),r.Ob(),r.Ob(),r.Pb(9,"div",5),r.Pb(10,"span",6),r.tc(11),r.ac(12,"number"),r.Ob(),r.Pb(13,"span",7),r.tc(14),r.ac(15,"number"),r.Ob(),r.Lb(16,"img",8),r.ac(17,"date"),r.Ob(),r.Pb(18,"span",9),r.tc(19),r.Ob(),r.Ob()),2&t){var i=e.$implicit,n=e.index,a=r.Zb();r.Cb("offset-xl-1",0==n),r.zb(3),r.uc(r.dc(4,9,1e3*i.dt,"EEEEEE",a.timezoneOffset,"ru")),r.zb(4),r.uc(r.dc(8,14,1e3*i.dt,"d MMMM",a.timezoneOffset,"ru")),r.zb(4),r.vc("",r.cc(12,19,i.main.temp,"1.0-0"),"\xb0"),r.zb(3),r.vc("",r.cc(15,22,a.forecastNights[n].main.temp,"1.0-0"),"\xb0"),r.zb(2),r.ic("src","assets/ico/weather-conditions/",i.weather[0].icon,".svg",r.pc),r.hc("id",r.dc(17,25,1e3*i.dt,"EEEEEE",a.timezoneOffset,"ru")),r.zb(3),r.uc(i.weather[0].description)}}var A,L=((A=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||A)},A.\u0275cmp=r.Eb({type:A,selectors:[["wa-forecast"]],inputs:{forecastDays:"forecastDays",forecastNights:"forecastNights",timezoneOffset:"timezoneOffset"},decls:4,vars:1,consts:[["id","forecast-title",1,"col-12","pl-5"],[1,"ml-xl-5"],["class","col-sm-6 col-md-4 col-lg-3 col-xl-2 text-center d-flex flex-row flex-sm-column mb-sm-3",3,"offset-xl-1",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-4","col-lg-3","col-xl-2","text-center","d-flex","flex-row","flex-sm-column","mb-sm-3"],[1,"pt-3","pt-sm-0"],[1,"ml-auto","ml-sm-0"],[1,"forecast-temp-text","mr-3"],[1,"forecast-temp-text","night"],["alt","\u0418\u043a\u043e\u043d\u043a\u0430 \u043f\u043e\u0433\u043e\u0434\u044b",1,"forecast-img",3,"src","id"],[1,"forecast-weather-describe","d-none","d-sm-block"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"span",1),r.tc(2,"\u041d\u0430 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0438\u0435 \u0434\u043d\u0438"),r.Ob(),r.Ob(),r.rc(3,E,20,30,"div",2)),2&t&&(r.zb(3),r.gc("ngForOf",e.forecastDays))},directives:[h.m],pipes:[h.e,h.f],styles:["#forecast-title[_ngcontent-%COMP%]{font-size:2em}.forecast-temp-text[_ngcontent-%COMP%]{font-size:2.5em}.night[_ngcontent-%COMP%]{color:#b3d7ff}.forecast-img[_ngcontent-%COMP%], .forecast-weather-describe[_ngcontent-%COMP%]{position:relative;top:-.5em}"],changeDetection:0}),A),j=i("st2m");function T(t,e){if(1&t){var i=r.Qb();r.Pb(0,"wa-location-card",4),r.Xb("open",(function(){r.oc(i);var t=r.Zb().$implicit;return r.Zb().open.emit(t.id)})),r.Ob()}if(2&t){var n=r.Zb(),a=n.index,o=n.$implicit;r.Cb("mr-lg-2",!n.last)("offset-xl-1",1===a),r.gc("location",o)("enableClosing",!1)}}function Z(t,e){if(1&t&&(r.Nb(0),r.rc(1,T,1,6,"wa-location-card",3),r.Mb()),2&t){var i=e.first;r.zb(1),r.gc("ngIf",!i)}}var F,X=((F=function(){function t(){_classCallCheck(this,t),this.open=new r.n}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"trackByItem",value:function(t,e){return t}}]),t}()).\u0275fac=function(t){return new(t||F)},F.\u0275cmp=r.Eb({type:F,selectors:[["wa-nearby"]],inputs:{list:"list"},outputs:{open:"open"},decls:4,vars:2,consts:[[1,"col-12","pl-5"],["id","title",1,"ml-xl-5"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","location col-6 col-md-4 col-lg-3 col-xl-2 mb-3",3,"location","enableClosing","mr-lg-2","offset-xl-1","open",4,"ngIf"],[1,"location","col-6","col-md-4","col-lg-3","col-xl-2","mb-3",3,"location","enableClosing","open"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"span",1),r.tc(2,"\u041f\u043e\u0433\u043e\u0434\u0430 \u0440\u044f\u0434\u043e\u043c"),r.Ob(),r.Ob(),r.rc(3,Z,2,1,"ng-container",2)),2&t&&(r.zb(3),r.gc("ngForOf",e.list)("ngForTrackBy",e.trackByItem))},directives:[h.m,h.n,j.a],styles:[".location[_ngcontent-%COMP%]:hover:not(.ghost-item){box-shadow:.3em .4em 1.4em -.4em var(--dark);-webkit-transition:box-shadow .2s ease-in;transition:box-shadow .2s ease-in}#title[_ngcontent-%COMP%]{font-size:2em}"],changeDetection:0}),F);function K(t,e){if(1&t&&(r.Pb(0,"div",7),r.tc(1),r.ac(2,"date"),r.ac(3,"weatherParams"),r.Ob()),2&t){var i=r.Zb(2);r.zb(1),r.xc(" ",r.dc(2,3,1e3*i.pressureData[0].dt,"d MMMM",i.timezoneOffset,"ru")," \u043e\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044f ",i.changePressure," \u0430\u0442\u043c\u043e\u0441\u0444\u0435\u0440\u043d\u043e\u0433\u043e \u0434\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u043e ",r.cc(3,8,i.pressureData[0].main.pressure,"pressure")," \u043c\u043c.\u0440\u0442.\u0441\u0442. ")}}function H(t,e){if(1&t&&(r.Nb(0),r.tc(1),r.ac(2,"date"),r.ac(3,"weatherParams"),r.Lb(4,"br"),r.Mb()),2&t){var i=e.$implicit,n=r.Zb(3);r.zb(1),r.wc(" ",r.dc(2,2,1e3*i.dt,"d MMMM",n.timezoneOffset,"ru"),": ",r.cc(3,7,i.weather[0].id,"precipitation"),". ")}}function R(t,e){if(1&t&&(r.Pb(0,"div",7),r.rc(1,H,5,10,"ng-container",8),r.Ob()),2&t){var i=r.Zb(2);r.zb(1),r.gc("ngForOf",i.precipitationData)}}function $(t,e){if(1&t&&(r.Pb(0,"div",7),r.tc(1),r.ac(2,"date"),r.ac(3,"number"),r.Ob()),2&t){var i=r.Zb(2);r.zb(1),r.xc(" ",r.dc(2,3,1e3*i.tempData[0].dt,"d MMMM",i.timezoneOffset,"ru")," \u043e\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044f ",i.changeTemp," \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u044b \u0434\u043e ",r.cc(3,8,i.tempData[0].main.temp,"1.0-0"),"\xb0 ")}}function B(t,e){if(1&t&&(r.Pb(0,"div",7),r.tc(1),r.ac(2,"date"),r.Ob()),2&t){var i=r.Zb(2);r.zb(1),r.wc(" ",r.dc(2,2,1e3*i.windData.dt,"d MMMM",i.timezoneOffset,"ru")," \u0448\u0442\u043e\u0440\u043c\u043e\u0432\u043e\u0435 \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435: \u043f\u043e\u0440\u044b\u0432\u044b \u0432\u0435\u0442\u0440\u0430 \u0434\u043e ",i.windData.wind.speed," \u043c/\u0441 ")}}function V(t,e){if(1&t&&(r.Nb(0),r.Pb(1,"div",5),r.rc(2,K,4,11,"div",6),r.rc(3,R,2,1,"div",6),r.rc(4,$,4,11,"div",6),r.rc(5,B,3,7,"div",6),r.Ob(),r.Mb()),2&t){var i=r.Zb();r.zb(2),r.gc("ngIf",i.pressureData),r.zb(1),r.gc("ngIf",i.precipitationData.length),r.zb(1),r.gc("ngIf",i.tempData),r.zb(1),r.gc("ngIf",i.windData)}}function W(t,e){1&t&&(r.Pb(0,"div",9),r.Lb(1,"i",10),r.Pb(2,"span",11),r.tc(3,"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439 \u043d\u0435\u0442"),r.Ob(),r.Ob())}var Q,J=((Q=function(){function t(){_classCallCheck(this,t),this.close=new r.n}return _createClass(t,[{key:"ngOnInit",value:function(){this.pressureData&&(this.changePressure=this.changeValue(this.pressureData[1])),this.tempData&&(this.changeTemp=this.changeValue(this.tempData[1]))}},{key:"changeValue",value:function(t){return t>0?"\u043f\u043e\u043d\u0438\u0436\u0435\u043d\u0438\u0435":"\u043f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u0435"}},{key:"onClose",value:function(){this.close.emit(null)}}]),t}()).\u0275fac=function(t){return new(t||Q)},Q.\u0275cmp=r.Eb({type:Q,selectors:[["wa-notification-center"]],inputs:{timezoneOffset:"timezoneOffset",pressureData:"pressureData",precipitationData:"precipitationData",tempData:"tempData",windData:"windData",notification:"notification"},outputs:{close:"close"},decls:8,vars:2,consts:[[1,"text-center"],[4,"ngIf","ngIfElse"],["emptyTemplate",""],["id","close-btn","type","button","aria-label","Close","tooltip","\u0417\u0430\u043a\u0440\u044b\u0442\u044c",1,"close",3,"click"],["aria-hidden","true"],["id","wrapper"],["class","alert notification px-2","role","alert",4,"ngIf"],["role","alert",1,"alert","notification","px-2"],[4,"ngFor","ngForOf"],["id","empty-notification",1,"d-flex","flex-column","align-items-center"],["id","empty-notification-ico",1,"far","fa-bell-slash","mb-2"],[1,"text-dark"]],template:function(t,e){if(1&t&&(r.Pb(0,"h4",0),r.tc(1,"\u0426\u0435\u043d\u0442\u0440 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439"),r.Ob(),r.rc(2,V,6,4,"ng-container",1),r.rc(3,W,4,0,"ng-template",null,2,r.sc),r.Pb(5,"button",3),r.Xb("click",(function(){return e.onClose()})),r.Pb(6,"span",4),r.tc(7,"\xd7"),r.Ob(),r.Ob()),2&t){var i=r.mc(4);r.zb(2),r.gc("ngIf",e.notification)("ngIfElse",i)}},directives:[h.n,O.a,h.m],pipes:[h.e,z.a,h.f],styles:["h4[_ngcontent-%COMP%]{color:var(--dark)}#wrapper[_ngcontent-%COMP%]{max-height:300px;overflow:auto}#wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{color:var(--dark);background-color:#b3d7ff}#empty-notification[_ngcontent-%COMP%]{position:relative;top:79px}#empty-notification-ico[_ngcontent-%COMP%]{font-size:5em;color:var(--dark)}#close-btn[_ngcontent-%COMP%]{position:absolute;top:0;left:325px}"],changeDetection:0}),Q);function q(t,e){if(1&t&&r.Lb(0,"div",21),2&t){var i=e.index,n=r.Zb(2);r.Cb("selected",i===n.selectedIndex)}}function G(t,e){if(1&t){var i=r.Qb();r.Pb(0,"wa-nearby",22),r.Xb("open",(function(t){return r.oc(i),r.Zb(2).openLocation(t)})),r.Ob()}if(2&t){var n=r.Zb(2);r.gc("list",n.cycleWeatherData.list)}}function U(t,e){if(1&t){var i=r.Qb();r.Pb(0,"wa-notification-center",23),r.Xb("close",(function(){return r.oc(i),r.Zb(2).onClick()})),r.Ob()}if(2&t){var n=r.Zb(2);r.gc("@openCloseAnimation",void 0)("pressureData",n.pressureData)("precipitationData",n.precipitationData)("tempData",n.tempData)("windData",n.windData)("notification",n.notification)("timezoneOffset",n.timezoneOffset)}}function Y(t,e){if(1&t){var i=r.Qb();r.Nb(0),r.Pb(1,"div",3),r.Pb(2,"div",4),r.rc(3,q,1,2,"div",5),r.Ob(),r.Pb(4,"div",6),r.Pb(5,"div",7),r.Pb(6,"button",8),r.Xb("click",(function(){return r.oc(i),r.Zb().previous()})),r.Lb(7,"i",9),r.Ob(),r.tc(8),r.Pb(9,"button",10),r.Xb("click",(function(){return r.oc(i),r.Zb().onClick()})),r.Lb(10,"i",11),r.Ob(),r.Pb(11,"button",12),r.Xb("click",(function(){return r.oc(i),r.Zb().next()})),r.Lb(12,"i",13),r.Ob(),r.Ob(),r.Pb(13,"span",14),r.tc(14),r.ac(15,"date"),r.Ob(),r.Ob(),r.Lb(16,"wa-weather",15),r.Ob(),r.Lb(17,"wa-forecast",16),r.rc(18,G,1,1,"wa-nearby",17),r.Pb(19,"button",18),r.Xb("click",(function(){return r.oc(i),r.Zb().changeState()})),r.Pb(20,"div",19),r.tc(21," + "),r.Ob(),r.Ob(),r.rc(22,U,1,7,"wa-notification-center",20),r.Mb()}if(2&t){var n=r.Zb();r.zb(3),r.gc("ngForOf",n.favoritesService.favorites),r.zb(5),r.vc(" ",null==n.weatherData?null:n.weatherData.name," "),r.zb(2),r.Cb("ring",n.notification),r.zb(4),r.vc(" \u041f\u0440\u043e\u0433\u043d\u043e\u0437 \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d: ",r.dc(15,15,1e3*(null==n.weatherData?null:n.weatherData.dt),"d MMMM, HH:mm",n.timezoneOffset,"ru")," "),r.zb(2),r.gc("weatherData",n.weatherData)("timezoneOffset",n.timezoneOffset)("forecastDay",n.forecastDay),r.zb(1),r.gc("forecastDays",n.forecastDays)("forecastNights",n.forecastNights)("timezoneOffset",n.timezoneOffset),r.zb(1),r.gc("ngIf",null==n.cycleWeatherData?null:n.cycleWeatherData.list),r.zb(1),r.gc("tooltip",n.favoritesService.isBookmark?"\u0423\u0434\u0430\u043b\u0438\u0442\u044c":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),r.zb(1),r.gc("@addDeleteAnimation",n.favoritesService.isBookmark?"delete":"add"),r.zb(2),r.gc("ngIf",n.isOpenedNotificationCenter)}}function tt(t,e){1&t&&(r.Pb(0,"div",24),r.Pb(1,"div",25),r.Pb(2,"span",26),r.tc(3,"Loading..."),r.Ob(),r.Ob(),r.Ob())}function et(t,e){1&t&&(r.Nb(0),r.tc(1," \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u0440\u0430\u0437\u0434\u0435\u043b "),r.Mb())}function it(t,e){1&t&&r.tc(0," \u0443\u0434\u0430\u043b\u0435\u043d \u0438\u0437 \u0440\u0430\u0437\u0434\u0435\u043b\u0430 ")}function nt(t,e){if(1&t){var i=r.Qb();r.Pb(0,"div",27),r.Pb(1,"span",28),r.tc(2),r.rc(3,et,2,0,"ng-container",0),r.rc(4,it,1,0,"ng-template",null,29,r.sc),r.tc(6,' "\u041c\u043e\u0438 \u043c\u0435\u0441\u0442\u0430" '),r.Ob(),r.Pb(7,"button",30),r.Xb("click",(function(){return r.oc(i),r.Zb().closeNotify()})),r.Pb(8,"span",31),r.tc(9,"\xd7"),r.Ob(),r.Ob(),r.Ob()}if(2&t){var n=r.mc(5),a=r.Zb();r.gc("@showHideAnimation",void 0),r.zb(2),r.vc(" ",null==a.weatherData?null:a.weatherData.name," "),r.zb(1),r.gc("ngIf",a.favoritesService.isBookmark)("ngIfElse",n)}}var at,ot,st=((at=function(){function t(e,i,n,a,o,s){_classCallCheck(this,t),this.weather=e,this.favoritesService=i,this.seo=n,this.renderer=a,this.router=o,this.notificationCenterService=s,this.subscriptions=new p.a,this.isShown=!1,this.isOpenedNotificationCenter=!1,this.precipitationData=[],this.notification=!1}return _createClass(t,[{key:"getNewData",value:function(){var t=Number(localStorage.getItem("lastId"));t?this.favoritesService.getData(t):this.router.navigate(["/search"])}},{key:"ngOnInit",value:function(){var t=this;this.isDataLoaded$=this.weather.isDataLoaded$,this.subscriptions.add(this.weather.weatherDataStorage$.pipe(Object(m.a)((function(e){return t.closeNotify(),window.scrollTo(0,0),t.weatherData=e,t.favoritesService.isBookmark=t.favoritesService.isLocationExist(e.name),t.seo.setPageTitle("Weather App | \u041f\u0440\u043e\u0433\u043d\u043e\u0437 \u043f\u043e\u0433\u043e\u0434\u044b \u0432 "+e.name),t.seo.setPageDescription("\u041f\u0440\u043e\u0433\u043d\u043e\u0437 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u043f\u043e\u0433\u043e\u0434\u044b, \u043f\u043e\u0447\u0430\u0441\u043e\u0432\u043e\u0439 \u0438 \u043f\u044f\u0442\u0438\u0434\u043d\u0435\u0432\u043d\u044b\u0439."),t.seo.setMetaRobots("index, follow"),localStorage.setItem("lastId",e.id.toString()),t.weather.forecastDataStorage$.pipe(Object(m.a)((function(e){return t.timezoneOffset=t.weatherData.timezone>=0?"+"+(t.weatherData.timezone/3600).toString():(t.weatherData.timezone/3600).toString(),t.weather.forecastTz=t.weatherData.timezone/3600,t.forecastData=e,t.forecastDay=t.weather.getForecastDay(e.list),t.forecastDays=t.weather.getForecastDays(t.forecastData.list,t.weather.forecastTz),t.forecastNights=t.weather.getForecastNights(t.forecastData.list,t.weather.forecastTz),t.selectedIndex=t.favoritesService.favorites.findIndex((function(e){return e.name===t.weatherData.name})),t.checkNotifications(),t.weather.cycleWeatherDataStorage$})))}))).subscribe((function(e){return t.cycleWeatherData=e})))}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe(),this.timerIdNotify&&clearTimeout(this.timerIdNotify),this.isOpenedNotificationCenter&&this.renderer.removeClass(document.body,"show-notification-center")}},{key:"next",value:function(){var t=this,e=this.favoritesService.favorites.findIndex((function(e){return e.name===t.weatherData.name}));-1===e&&(e=0),this.favoritesService.getData(e!==this.favoritesService.favorites.length-1?this.favoritesService.favorites[++e].id:this.favoritesService.favorites[0].id),this.isOpenedNotificationCenter=!1,this.scrollState(this.isOpenedNotificationCenter)}},{key:"previous",value:function(){var t=this,e=this.favoritesService.favorites.findIndex((function(e){return e.name===t.weatherData.name}));-1===e&&(e=0),this.favoritesService.getData(0===e?this.favoritesService.favorites[this.favoritesService.favorites.length-1].id:this.favoritesService.favorites[--e].id),this.isOpenedNotificationCenter=!1,this.scrollState(this.isOpenedNotificationCenter)}},{key:"changeState",value:function(){var t=this;this.favoritesService.manage(this.weatherData),this.selectedIndex=this.favoritesService.favorites.findIndex((function(e){return e.name===t.weatherData.name})),this.isShown=!this.isShown,this.timerIdNotify&&clearTimeout(this.timerIdNotify),this.isShown||(this.isShown=!0),this.timerIdNotify=setTimeout((function(){t.closeNotify()}),5e3)}},{key:"closeNotify",value:function(){this.isShown=!1,clearTimeout(this.timerIdNotify)}},{key:"onClick",value:function(){this.isOpenedNotificationCenter=!this.isOpenedNotificationCenter,this.scrollState(this.isOpenedNotificationCenter)}},{key:"openLocation",value:function(t){this.isOpenedNotificationCenter=!1,this.scrollState(this.isOpenedNotificationCenter),this.favoritesService.getData(t)}},{key:"scrollState",value:function(t){t?this.renderer.addClass(document.body,"show-notification-center"):this.renderer.removeClass(document.body,"show-notification-center")}},{key:"checkNotifications",value:function(){this.pressureData=this.notificationCenterService.pressureNotify(this.weatherData,this.forecastDays),this.precipitationData=this.notificationCenterService.precipitationNotify(this.forecastDays),this.tempData=this.notificationCenterService.tempNotify(this.weatherData.main.temp,this.forecastDays),this.windData=this.notificationCenterService.windNotify(this.forecastDays),this.notification=!!(this.pressureData||this.precipitationData.length||this.tempData||this.windData)}}]),t}()).\u0275fac=function(t){return new(t||at)(r.Kb(v.e),r.Kb(v.a),r.Kb(v.d),r.Kb(r.D),r.Kb(u.b),r.Kb(v.c))},at.\u0275cmp=r.Eb({type:at,selectors:[["wa-location-details"]],hostBindings:function(t,e){1&t&&r.Xb("load",(function(){return e.getNewData()}),!1,r.nc)("beforeunload",(function(){return e.ngOnDestroy()}),!1,r.nc)},decls:6,vars:5,consts:[[4,"ngIf","ngIfElse"],["loadedTemplate",""],["id","notifyMsg","class","d-flex justify-content-center align-items-center fixed-bottom py-2 px-1",4,"ngIf"],[1,"row","mb-md-5"],["waLocationsPaginator","",1,"col","d-flex","flex-row","justify-content-center","pt-2"],["class","location-pagination rounded-circle mr-1",3,"selected",4,"ngFor","ngForOf"],[1,"col-12","text-center"],["id","loc-name"],["waLocationsPaginator","","type","button","aria-label","Previous location","tooltip","\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0435 \u043c\u0435\u0441\u0442\u043e",1,"btn",3,"click"],[1,"fas","fa-chevron-left"],["type","button","aria-label","Notification center","tooltip","\u0426\u0435\u043d\u0442\u0440 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439",1,"btn","p-1","mr-2",3,"click"],[1,"far","fa-bell"],["waLocationsPaginator","","type","button","aria-label","Next location","tooltip","\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435 \u043c\u0435\u0441\u0442\u043e",1,"btn",3,"click"],[1,"fas","fa-chevron-right"],[1,"d-block"],[1,"col-12","d-flex","flex-column","flex-md-row","p-0",3,"weatherData","timezoneOffset","forecastDay"],[1,"row",3,"forecastDays","forecastNights","timezoneOffset"],["class","row",3,"list","open",4,"ngIf"],["type","button","id","bookmark","aria-label","Add or delete bookmark",1,"btn","btn-custom","rounded-circle","mr-4",3,"tooltip","click"],["id","btn-label"],["id","notification-center-container","class","px-2",3,"pressureData","precipitationData","tempData","windData","notification","timezoneOffset","close",4,"ngIf"],[1,"location-pagination","rounded-circle","mr-1"],[1,"row",3,"list","open"],["id","notification-center-container",1,"px-2",3,"pressureData","precipitationData","tempData","windData","notification","timezoneOffset","close"],[1,"d-flex","justify-content-center","pt-5"],["role","status",1,"spinner-border","text-light"],[1,"sr-only"],["id","notifyMsg",1,"d-flex","justify-content-center","align-items-center","fixed-bottom","py-2","px-1"],[1,"text-center","mr-3"],["deleteTemplate",""],["type","button","aria-label","Close","tooltip","\u0421\u043a\u0440\u044b\u0442\u044c",1,"close",3,"click"],["aria-hidden","true"]],template:function(t,e){if(1&t&&(r.Pb(0,"wa-layout"),r.rc(1,Y,23,20,"ng-container",0),r.ac(2,"async"),r.rc(3,tt,4,0,"ng-template",null,1,r.sc),r.rc(5,nt,10,4,"div",2),r.Ob()),2&t){var i=r.mc(4);r.zb(1),r.gc("ngIf",r.bc(2,3,e.isDataLoaded$))("ngIfElse",i),r.zb(4),r.gc("ngIf",e.isShown)}},directives:[w.a,h.n,y,h.m,O.a,S,L,X,J],pipes:[h.b,h.e],styles:[".location-pagination[_ngcontent-%COMP%]{height:.5em;width:.5em;background-color:var(--light)}#loc-name[_ngcontent-%COMP%]{font-size:2em}.selected[_ngcontent-%COMP%]{background-color:#b3d7ff}#bookmark[_ngcontent-%COMP%]{position:fixed;top:80%;right:0;height:50px;width:50px;box-shadow:.2em .1em .5em var(--dark)}#bookmark[_ngcontent-%COMP%]   #btn-label[_ngcontent-%COMP%]{position:relative;top:-16px;left:-2px;font-size:2.5em}#notifyMsg[_ngcontent-%COMP%]{min-height:50px;max-height:100px;background-color:var(--light);color:var(--dark)}#notification-center-container[_ngcontent-%COMP%]{position:fixed;top:120px;left:0;width:350px;height:350px;border-radius:0 19px 19px 0;background-color:var(--white);box-shadow:.2em .1em .5em var(--dark)}@-webkit-keyframes ringing{0%{-webkit-transform:rotate(20deg);transform:rotate(20deg)}50%{-webkit-transform:rotate(-20deg);transform:rotate(-20deg)}to{-webkit-transform:rotate(20deg);transform:rotate(20deg)}}@keyframes ringing{0%{-webkit-transform:rotate(20deg);transform:rotate(20deg)}50%{-webkit-transform:rotate(-20deg);transform:rotate(-20deg)}to{-webkit-transform:rotate(20deg);transform:rotate(20deg)}}.ring[_ngcontent-%COMP%]{-webkit-animation:ringing .5s ease-out infinite;animation:ringing .5s ease-out infinite}"],data:{animation:[g.a,g.e,g.d]}}),at),rt=[{path:"",component:st,children:[{path:":currentLocation",component:st}]}],ct=((ot=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ib({type:ot}),ot.\u0275inj=r.Hb({factory:function(t){return new(t||ot)},imports:[[h.c,u.e.forChild(rt)],u.e]}),ot);i.d(e,"LocationDetailsModule",(function(){return ft}));var lt,ft=((lt=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ib({type:lt}),lt.\u0275inj=r.Hb({factory:function(t){return new(t||lt)},imports:[[b.a,ct,d]]}),lt)}}]);